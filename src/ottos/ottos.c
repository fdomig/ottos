#include <ottos/system.h>
#include <ottos/kernel.h>
#include <ottos/const.h>
#include <ottos/timer.h>

#include "../../bin/led_test.h"
#include "../../bin/serial_test.h"
#include "../../bin/uptime_test.h"
#include "../../bin/i2c_test.h"
#include "../../bin/video_test.h"
#include "../drivers/i2c/i2c.h"

#include "kernel/intc/irq.h"
#include "kernel/pm/process.h"
#include "dev/devices.h"
#include "../hal/uart.h"

#include "../fs/fs.h"
#include "../tty/tty.h"

#include "../fs/vfat/fat_filelib.h"
#include "../../drivers/mmchs/mmchs.h"

#include "kernel/mmu/mmu.h"
#include "../lib/ottos/parser.h"
#include "kernel/loader/loader.h"

void devices_test() {
  devices_init();
}

static void loop_forever() {
  for (;;)
    ;
}

void i2c_test() {
  //devices_init();

  i2c_init();
  pulse_leds();
}

void mmu_test() {
  devices_init();
  irq_enable();

  mmu_init();

  process_table_init();
  //process_create(1, (int) toggle_led1);
  //process_create(1, (int) toggle_led2);

  irq_init();
  timer_init();
  irq_register_context_switch();

  kernel_to_user_mode();
}

// MMU TEST SYSCALLS
//#define byte0 ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFFFF1401000000041EFF3000B2000C0400040800031A:20010000040023B20100240484EF30010014040E011C200800000001002C006B00F700003F:20018000000A000001EFA0001E01032B032F10081010181810FB1010010C0D0C1003040472:20020000010608080102080801010402010101B2B20100B2B20101010101010103F90113C9:2002800002CB040704B423B204F9040102B2B202010101010409040423032302230104F50E:200300000401010101FB01780C0038A1C00002000120022002A020201CA0172012A00D20C3:2003800008A0038203820203028203820203028203820203028203820203020222E4038EE1:0704000000000C1E000C1EA1:00000001FF"
//#define byte1 ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFFFFC0000010001000FF4050C0400001001020000016:20010000001000C00048480001FF800000FFC040E0FF4740C0C0C0C0C010000000FFC0C04B:200180001000203000FF8600FF400000000000000020505020FF002080300020C0F130305B:200200008000101080005050802030F23030803030800030303030803030208000FF00005D:2002800000FF20003030383020FF008020303020203030802000303034303430343020FF6D:200300002080303020FF8047400000E0E00031102008280424000001000100020002000335:200380000003000330030330030230020230020130010130010030000030000024FF10E0AF:07040000100040FF0040FF67:00000001FF"
//#define byte2 ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFFFF9F7CA0A09C8C00FF2DA0D5A00080858091520023:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC02DA08D9D8C8D9F9D0050FFA08DA3:20018000A0A0A0A000FF01522F2D1100100052002D42B1A052FFBD92BD1200D24F8C9180D1:20020000BD00B1A0BD00B1A0BD524F83D1C0BDD1C0BDA0D1C0D1C0BDD1C052BD11FF100006:2002800010FF520091C0A04052FF72BD92D1C04292D1C0BD520091C0A040A040A04052FF73:2003000092BDD1C052FFBDC02D5100A03E601161B052A052A0520052005200520052005281:2003800000520050A34050A34050A34050A34050A34050A34050A34050A34051A0FFA0B033:070400006360BD2FA0BD2FBA:00000001FF"
//#define byte3 ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFFFFE5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF5:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E9E3E5E5E2E5E5E5EBE31AE3E5B1:20018000E3E3E3E3EFEA00E301E9E31AE31AE33AE9E2E8E8E22AE8E208E20AE3E2E0E4E444:2002000008EAE8E808EAE8E808E21210E4E4E8E0E0E8E1E0E0E4E4E8E4E4E208E31AE31AF9:20028000E30AE23AE4E0E1E1E22AE308E2202022E22424E8E23AE4E4E1E5E1E5E1E5E22A40:20030000E208E4E4E21AE846E9E30AE1E042E212E1E191E191E18AE18AE18AE18AE18AE177:200380008AE18AE1E020E1E020E1E020E1E020E1E020E1E020E1E020E1E020E1313AE1E152:070400004222E8E1E3E8E11C:00000001FF"

// LED APP
#define byte0 ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFFFF1401000000041EFF3000B2000C0400040800031A:20010000040037B20100240484EF30010014040E011C200C0000000402000B0001000100A3:2001800060007800F7000A00000104000201040100040B050401010000E2A0001E01032B90:20020000032F10081010181810FB1010010C0D0C10030404010608080102080801010402A6:20028000010101B2B20100B2B20101010101010103F9011302CB040704B423B204F9040114:2003000002B2B202010101010409040423032302230104F50401010101FB01780C0038A193:20038000C00002000120022002A020201CA0172012A00D2008A003820382020302820382E4:1B0400000203028203820203028203820203020222E4038E00000C1E000C1ED1:00000001FF"
#define byte1 ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFFFFC0000010001000FF4050C0400001001020000016:20010000001000C00048480001FF800000FFC040E0FF4740C0C0C0C00020103000C0C0C0FA:2001800010000000FF1000203000C00000C0C000C0C01000302000C0C0FF8600FF4000008C:20020000000000000020505020FF002080300020C0F130308000101080005050802030F27C:200280003030803030800030303030803030208000FF000000FF20003030383020FF0080D9:2003000020303020203030802000303034303430343020FF2080303020FF8047400000E06C:20038000E00031102008280424000001000100020002000300030003300303300302300218:1B0400000230020130010130010030000030000024FF10E0100040FF0040FF48:00000001FF"
#define byte2 ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFFFF9F7CA0A09C8C00FF2DA0D5A00080858091520023:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC02DA08DA0CDA0A0A0A0009D8C8D6E:200180009F9D0050FFA0A0A0A000DD5C00A0CD00A0CDA0A0DDA000A08DFF01522F2D110098:20020000100052002D42B1A052FFBD92BD1200D24F8C9180BD00B1A0BD00B1A0BD524F8392:20028000D1C0BDD1C0BDA0D1C0D1C0BDD1C052BD11FF100010FF520091C0A04052FF72BD71:2003000092D1C04292D1C0BD520091C0A040A040A04052FF92BDD1C052FFBDC02D5100A038:200380003E601161B052A052A0520052005200520052005200520050A34050A34050A340E2:1B04000050A34050A34050A34050A34050A34051A0FFA0B06360BD2FA0BD2F67:00000001FF"
#define byte3 ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFFFFE5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF5:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E9E3E5E3E5E3E3E3E3EFE5E2E5E8:20018000E5E5EBE31AE3E3E3E3EFE5E31AE3E5EAE3E5E3E3E5E3EFE3E5EA00E301E9E31ADD:20020000E31AE33AE9E2E8E8E22AE8E208E20AE3E2E0E4E408EAE8E808EAE8E808E2121062:20028000E4E4E8E0E0E8E1E0E0E4E4E8E4E4E208E31AE31AE30AE23AE4E0E1E1E22AE30883:20030000E2202022E22424E8E23AE4E4E1E5E1E5E1E5E22AE208E4E4E21AE846E9E30AE1B2:20038000E042E212E1E191E191E18AE18AE18AE18AE18AE18AE18AE1E020E1E020E1E020F2:1B040000E1E020E1E020E1E020E1E020E1E020E1313AE1E14222E8E1E3E8E195:00000001FF"

// PRINT APP
//#define byte0_ ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFFFF1401000000041EFF3000B2000C0400040800031A:20010000040027B20100240484EF30010014040E011C200C0000440004000000306D0004DD:200180000404C60000000100F1CC40001E01032B032F10081010181810FB1010010C0D0C5B:2002000010030404010608080102080801010402010101B2B20100B2B201010101010101BE:2002800003F9011302CB040704B423B204F9040102B2B2020101010104090404230323021B:20030000230104F50401010101FB01780C0038A1C00002000120022002A020201CA0172085:2003800012A00D2008A0038203820203028203820203028203820203028203820203020299:2004000022E4038E00000C1E000C1E00000100000100000008000001000E080400080004C0:1304800009010E00000A000001000C04000004000B010C1A:0104CC0074BB:00000001FF"
//#define byte1_ ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFFFFC0000010001000FF4050C0400001001020000016:20010000001000C00048480001FF800000FFC040E0FF4740C0C0C0C0C0C0C000100000004A:20018000100000C0C0C0C0C0FF044200FF400000000000000020505020FF0020803000203C:20020000C0F130308000101080005050802030F2303080303080003030303080303020804B:2002800000FF000000FF20003030383020FF008020303020203030802000303034303430F1:20030000343020FF2080303020FF8047400000E0E0003110200828042400000100010002B7:200380000002000300030003300303300302300202300201300101300100300000300000BD:2004000024FF10E0100040FF0040FF4010002030008040100020300080402010003010202B:130480000000804010002030008040100010203000008099:0104CC0065CA:00000001FF"
//#define byte2_ ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFFFF9F7CA0A09C8C00FF2DA0D5A00080858091520023:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC02DA08D9F9C8DA08D9D9F00500090:200180008DA000A08D9D8C8DFF020F522F2D1100100052002D42B1A052FFBD92BD1200D21D:200200004F8C9180BD00B1A0BD00B1A0BD524F83D1C0BDD1C0BDA0D1C0D1C0BDD1C052BD3A:2002800011FF100010FF520091C0A04052FF72BD92D1C04292D1C0BD520091C0A040A04084:20030000A04052FF92BDD1C052FFBDC02D5100A03E601161B052A052A052005200520052F4:200380000052005200520050A34050A34050A34050A34050A34050A34050A34050A340517E:20040000A0FFA0B06360BD2FA0BD2F2DA0A0A0A000BD2DA0A0A0A000BD2D8D8D8D9D9D9D33:13048000A000BD2DA0A0A0A000BD2D8D8D9D9DA0A000BD24:0104CC0073BC:00000001FF"
//#define byte3_ ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFFFFE5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF5:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E9E3E5E5E5E5E3E5E5E5EBE30ABE:20018000E2E3EBE3E5E5E2E5EA0000E301E9E31AE31AE33AE9E2E8E8E22AE8E208E20AE325:20020000E2E0E4E408EAE8E808EAE8E808E21210E4E4E8E0E0E8E1E0E0E4E4E8E4E4E20869:20028000E31AE31AE30AE23AE4E0E1E1E22AE308E2202022E22424E8E23AE4E4E1E5E1E518:20030000E1E5E22AE208E4E4E21AE846E9E30AE1E042E212E1E191E191E18AE18AE18AE17B:200380008AE18AE18AE18AE1E020E1E020E1E020E1E020E1E020E1E020E1E020E1E020E1A9:20040000313AE1E14222E8E1E3E8E1E9E3E3E3E3EFE8E9E3E3E3E3EFE8E9E5E5E5E5E5E5F7:13048000E3EFE8E9E3E3E3E3EFE8E9E5E5E5E5E3E3EFE849:0104CC0074BB:00000001FF"

//// EXIT APP
#define byte0_ ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFFFF1401000000041EFF3000B2000C0400040800031A:20010000040019B20100240484EF30010014040E011C2008180000040D81000894001E0173:20018000032B032F10081010181810FB1010010C0D0C1003040401060808010208080101FF:200200000402010101B2B20100B2B20101010101010103F9011302CB040704B423B204F993:20028000040102B2B202010101010409040423032302230104F50401010101FB010000016B:2003000000000100000008000001000E08040008000409010E00000A000001000C0400007A:0503800004000B010C5C:0103940074F4:00000001FF"
#define byte1_ ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFFFFC0000010001000FF4050C0400001001020000016:20010000001000C00048480001FF800000FFC040E0FF4740C0C0C000100000800300FF4088:200180000000000000000020505020FF002080300020C0F13030800010108000505080201F:2002000030F23030803030800030303030803030208000FF000000FF20003030383020FFB7:20028000008020303020203030802000303034303430343020FF2080303020FF8040100084:2003000020300080401000203000804020100030102000008040100020300080401000101D:050380002030000080A8:010394006503:00000001FF"
#define byte2_ ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFFFF9F7CA0A09C8C00FF2DA0D5A00080858091520023:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC02D9F9C8DA0A000A0BD02522F2D29:200180001100100052002D42B1A052FFBD92BD1200D24F8C9180BD00B1A0BD00B1A0BD52D4:200200004F83D1C0BDD1C0BDA0D1C0D1C0BDD1C052BD11FF100010FF520091C0A04052FF4E:2002800072BD92D1C04292D1C0BD520091C0A040A040A04052FF92BDD1C052FFBD2DA0A0FB:20030000A0A000BD2DA0A0A0A000BD2D8D8D8D9D9D9DA000BD2DA0A0A0A000BD2D8D8D9D20:050380009DA0A000BDDE:0103940073F5:00000001FF"
#define byte3_ ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFFFFE5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF5:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E9E5E5E5E3E1EBE3E800E301E9A9:20018000E31AE31AE33AE9E2E8E8E22AE8E208E20AE3E2E0E4E408EAE8E808EAE8E808E208:200200001210E4E4E8E0E0E8E1E0E0E4E4E8E4E4E208E31AE31AE30AE23AE4E0E1E1E22ACC:20028000E308E2202022E22424E8E23AE4E4E1E5E1E5E1E5E22AE208E4E4E21AE8E9E3E396:20030000E3E3EFE8E9E3E3E3E3EFE8E9E5E5E5E5E5E5E3EFE8E9E3E3E3E3EFE8E9E5E5E50F:05038000E5E3E3EFE8F6:0103940074F4:00000001FF"

// ICP SERVER APP
#define ipcserver_byte0 ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFF6C14010000000427FF3000B2000C040004080003A4:200100000400B1B20100240484EF30010014040E011C2014001E0C001E1E14100034040072:200180006E0C71F06F140480086DE96B0D0800006AE21A066B080C0CDB0CFF001019206910:20020000246D2804632C106030100A09100D0014100110100AF520BC20E03000003010041E:20028000300108303008049C3F300CD0E9C8302CED3000140AD2001D289A28BE149614BA7B:20030000C802B7305100302C4D002C248724ABAA6E7365750D7365007365616373657269F3:200380000D7400537463657365004572696D610D7269203A0A001E01032B032F1008101084:20040000181810FB1010010C0D0C10030404010608080102080801010402010101B2B201A6:2004800000B2B20101010101010103F9011302CB040704B423B204F9040102B2B202010110:2005000001010409040423032302230104F50401010101FB010100010100FB1E000001003B:20058000000100000008000001000E08040008000409010E00000A000001000C04000004F4:20060000000B010C0C04000004000C010C0E08040008000406010E08000000000D01080E2E:2006800008040008000407010E1000003C040400000004000004EC00E8003C00CC000009EB:200700000C0C0500040405041E040000F2001E8010000C0010000A000405000004000306AD:200780000204000004F000041070001812000000B7F0003C070304E000FF0000D803003CCA:2008000000700304F405B406080506040400BF00000100003C047070006070000000893822:20088000003C30040C030007030001000403F8FF03040036F08100013100010004040500E2:2009000000008C0000008C00000A0006056D00000C040003140006066200000C0409065B2E:20098000055900000C000C08060063003C70F00004000103017200560000029A00F0000077:200A000027B0003C00B407860304003201093E092F7C84000601040004168C140C090410DB:200A80001A08030100070013010005040400051E1B083500000807063B075B003C05B63CA8:200B0000BA090809010005040401000449003C07F0F000010131046802050003010A003D91:200B80000000C528003C070304182000050016040A000C04070C09080103070C08FA00046C:200C00000200EB010003003C00F0B001070004020A00BB08000C0003090400B2003C07F02B:200C8000109004C4000010032100100104FC10100008040C14FC0400004105005A02002099:200D000000007C041E0400006105007A02002000007C041E0E000000030000000100280057:200D80000400F1000C01080408001B040800000000080400000000040800000000040104F5:200E0000080108080400E3000E0014080400000C00001002000000000841F8000C010C0428:200E8000010800370000EF1000050C010C042D00040C000C049D14000F040000970C10002D:200F00000C0C0108080400000D080000FF00850C000000020C00E700000FDC780C0038A1C2:200F8000C00002000120022002A020201CA0172012A00D2008A003820382020302820382D8:1B1000000203028203820203028203820203020222E4038E00000C1E000C1EC5:1C106C0025DC30343863676B6F737700040400040800040C010410640414640024:00000001FF"
#define ipcserver_byte1 ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFF10C0000010001000FF4050C0400001001020000005:20010000001000C00048480001FF800000FFC040E0FF47C000FFC000FFFF111140D010001B:20018000CFC00F001F010001000F001F01C000000F001E010F100100001000C0C0CEC0CF76:20020000C0CFC0000100000100C00000C0C00000C0C0C0C000FF00001000C00000C00000BE:20028000C0000000C000C00001C000000000102000C000102002C0C000001000000010009B:200300001000000001C0C00001C0C000001000FF6170206E0065720065726C0A6572796E7B:2003800000650074206520733A006E657665670065766D0A0D00FF4000000000000000205F:20040000505020FF002080300020C0F130308000101080005050802030F2303080303080DA:200480000030303030803030208000FF000000FF20003030383020FF0080203030202030A7:2005000030802000303034303430343020FF2080303020FF80C000100000FFFF4010002083:2005800030008040100020300080402010003010200000804010002030008040100010209B:2006000030000080401000102030000080402010003010200000804000201030000080404A:20068000201000301020000080C6C040FF06C600C6C0C0C0C0C005C0C5C0FF801520C00075:2007000000200000C0C000C0FFC000C0FFC0FF1540C02000003000E00000000020C0000017:200780003020004000FFC0C0804040C500C00000FFC4C0FFC0C060C450FF00304400C0FF1D:2008000000800050FF00FFC000000000C0C0FF60C0C0C0C0FF00804050C480C00000FFC495:20088000C0FFC45030006000600000003000FFFF00441000032F0010001010C050C0005091:2009000000C0CF6000C0CF500000000000FFC000C0C0C00000000000FFC000C0C00000FFCC:2009800000FFC000C000C0C000C0FFC0FF80437050C3800000FF700000C000FF0083000063:200A0000FFC2C0FF6042C00FC090C0006000000000122210C0100000C0001F00C0C03000D2:200A8000FF0000000050C000C0C0C050C0C000FF0000FF50C0001020FE00FFC0FF00FFFF3F:200B0000FF000000C0C0C050C0C0C000FFC0FF0083478040500000C10000C00000FF70007E:200B80000000FEC1C0FFC0C090C16100100000A0C0207030C0C040C00030700040FF000016:200C00000000FF000000C0FF0087FEC000C05000C0C0FE00C0C0C00000C0C0FEC0FF00873F:200C8000400100FEC00080101120801020FF801120111111111FD000C00000C00000C0C001:200D000000C000D0FFD000C00000C00000C0C000C000D0FF4000C00000C0C000000000C0A5:200D8000C000FDC0C0C0C0C0000000C01000100000C01000100000C01000100000C0C0C0F6:200E0000C0C0C000C000FF008040D0201000C0C0C000C000C0C0C0001000C000C010101013:200E8000001000000010FFC00000C00000001010C000101000FFD08040100000FD0000C057:200F000000C0C0C0C000C00000C00000FF00FD00C0C00000C000FF0000801047400000E01F:200F8000E0003110200828042400000100010002000200030003000330030330030230020C:1B1000000230020130010130010030000030000024FF10E0100040FF0040FF3C:1C106C00001031353964686C70747800001120001120001100001101001101008E:00000001FF"
#define ipcserver_byte2 ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFF029F7CA0A09C8C00FF2DA0D5A00080858091520020:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC09F8C2F9F8C2F2F02022D4D8D8DF0:200180008F8D8F008F00A0008D8F008F009DA08C8F008F008F9D009D009D00A08D8F8D8FB5:200200008D8F8DA0008DA0008D9D5C009D8CA0CC9D8C8D9D5CFF9D009D009DA08C9DA08CD3:200280009DA08C9D9D909C00009D8C8F008F9D9D009D9C8DA000A0CD9D009D008D008D0087:200300008FA0009D00A08D9D00A08D9D009D00FF6D61626400720A0072206C0D72202064B0:200380000073006152696D610A006463657365006365730D00522F2D1100100052002D421A:20040000B1A052FFBD92BD1200D24F8C9180BD00B1A0BD00B1A0BD524F83D1C0BDD1C0BDC5:20048000A0D1C0D1C0BDD1C052BD11FF100010FF520091C0A04052FF72BD92D1C04292D143:20050000C0BD520091C0A040A040A04052FF92BDD1C052FFBD40E0FC8051FF2F2DA0A0A0B4:20058000A000BD2DA0A0A0A000BD2D8D8D8D9D9D9DA000BD2DA0A0A0A000BD2D8D8D9D9DA1:20060000A0A000BD2D8D8D9D9DA0A000BD2D8D8D8D9D9D9DA000BD2D8DA09DA0A000BD2D36:200680008D8D8D9D9D9DA000BD9F9C2D2F9F9F8C9F9C4C80A0809F809F9C2FBD9FA09100E1:2007000050A00052909000822F925CA0FF812F9F2D91B08100A000905E00538180A0A000D9:20078000A093529283FFA080BD2DB09F009C5C00FF9F9C2F84CC4C9F9CFF55959F00942FE4:20080000A0BD5695FFA0FF435C0085804C80FF85958C85942F85BD2DB09FBD9C5C00FF9F84:200880009C2F9F45A055A000A096C0838055FFFF559F93009FB090C10083838C814C5CA046:200900005696B0A05595B0A056005500A0FF9395808C83A0005500A0FF9693808C00A0FFF8:20098000A0FF96938095808CA086FF942FBD2DB0479FA000A0FFA000589C00FFA0BD5C007B:200A0000FF9F9C2F959F88B0CC4C940046560056009F9F9185828C519C00B000864C9C00F6:200A8000FF53898085A094008985898C4385A0FF00A0FFB09400A0A0FFA0FF942FA0FF2F66:200B0000FF4650008985898C408C8585FF942FA0BD2DA0B04800589F00189C00A0FFA00079:200B80005C00FF9F9C2F84CC4C9F9F9CE0500080859001474A824C800088885344FF5490EB:200C00000050FF005000962FA0BDFF895A8347004580FF5495848500874480FF962FA0BD45:200C80002D04A0FFB0A0BD84B0A0BD518CFFBD020002020202004DCDDD5C00DD5C00DD8C4E:200D000000DDEF8D2F4DCDDD5C00DD5C00DD4C00DDEF8D2F2D8D9D5C009DDC5C009D009D4C:200D80008D9DFF9D804C8D9D9D5C009D9DDCD121CC9D9DDCD121CC9D9DDCD121CC9D8C8D6C:200E00009D4C8D9D9D5CFF9DBD2D4D8D8D8DA08D9D5C8D009D6C8D9D9D009FDC9D8C8D9DFB:200E8000CC9D9D00518DFF9D5C009D8C8D9DA0CC9D9DA0C09DFF8DBD2DCD8D9DFF8D009DEA:200F00009D804C8D9DDDDC5C009DA0CCFF9DFF8D9DDC5C009D5CFF9D8DBD02C02D5100A064:200F80003E601161B052A052A0520052005200520052005200520050A34050A34050A340D6:1B10000050A34050A34050A34050A34050A34051A0FFA0B06360BD2FA0BD2F5B:1C106C00000232366165696D7175790000020000020000020000020200020200F5:00000001FF"
#define ipcserver_byte3 ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFF00E5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF4:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E5E5E1E5E5E1E10000E9E2E5E5BC:20018000E2E5E2EBE2EBE3EBE5E2EBE2EBE5E3E5E2EBE2EBE2E5EBE5EBE5EBE3E5E2E5E2A7:20020000E5E2E5E3EBE5E3EBE5E5E3AAE5E0E3E5E5E2E5E5E3BAE5EBE5EBE5E3E5E5E3E5A5:20028000E5E3E5E5E5E5E5E0EBE5E5E2EBE2E5E5EBE5E5E2E3EBE3E5E5EBE5EBE2EBE2EBA8:20030000E2E3EBE5EBE3E5E5EBE3E5E5EBE5EBEA65636F0A00760DA0766D6F007674620A67:200380000074A072657665670DA0206520730A006564670000E301E9E31AE31AE33AE9E282:20040000E8E8E22AE8E208E20AE3E2E0E4E408EAE8E808EAE8E808E21210E4E4E8E0E0E8ED:20048000E1E0E0E4E4E8E4E4E208E31AE31AE30AE23AE4E0E1E1E22AE308E2202022E2248F:2005000024E8E23AE4E4E1E5E1E5E1E5E22AE208E4E4E21AE8E2E3E5E2E31AE1E9E3E3E3FB:20058000E3EFE8E9E3E3E3E3EFE8E9E5E5E5E5E5E5E3EFE8E9E3E3E3E3EFE8E9E5E5E5E58B:20060000E3E3EFE8E9E5E5E5E5E3E3EFE8E9E5E5E5E5E5E5E3EFE8E9E5E3E5E3E3EFE8E906:20068000E5E5E5E5E5E5E3EFE8E5E5E9E1E5E5E5E5E5E2E5E3E5E5E5E5E5E1E8E5E3E5EAB2:20070000E1111AE305150AE5E1E5E3031AE5E1E5E9E5E1050AE3EAE5E18AE305151111EA8C:20078000E1E5E315051AE3E5E8E9E1150AE5E30AEBE5E5E1E2E3E2E5E5EAE315E51AE5E163:20080000E3E8E1858AE1EBE0E33AE0E2E2E5EBE5E5E3E5E5E1E2E8E9E11508E5E30AEBE535:20088000E5E1E5E2E1E1939AE1E5E3E0E2E18AEAE1E5051AE5E1E5130AE5E0E0E2E2E133F2:20090000E3151113E3151113E31AE30AE1EBE5E5E0E2E5E1EAE31AE1EBE5E5E0E2EAE1EBA2:20098000E1EBE5E5E0E5E0E2E1E5EBE5E1E8E9E1E215E11AE1EBE1EAE3E51AEBE3E8E30A03:200A0000EBE5E5E1E5E5E2E1E3E2E50AE2E10AE18AE5E5E5E0E0E2E1859AE11AE0E0E24A8F:200A8000EBE330333531E53AE3E5E0E2E2E5E1EBEAE1EBE1E50AE1E1EBE1EBE5E1E1EAE112:200B0000EAE0E33AE3E5E0E2E2E3E5E2EBE5E1E1E8E9E1E1E20AE3859AE1E50AE1EBE1EA5E:200B8000E30AEBE5E5E1E2E3E2E5E5E5E1E30AE2E0E5E0E2E0E0E0E2EAE0E0E1303AE345A6:200C00005AE31AEAE31AE5E1E3E8EBE3E1E5E20AE0E5EBE33530353AE0E2E5EBE5E1E1E8FD:200C8000E9E0E1EBE10308E2E1E308E2E41AE800100000000010E2E5E5E3BAE5E3CAE5E29B:200D0000EAE5E6E2E1E2E5E5E3BAE5E3CAE5E2EAE5E6E2E1E9E5E5E30AE5E5E31AE5EAE526:200D8000E5E5EBE5E0E2E5E5E5E12AE5E5E5E5E0E5E5E5E5E5E0E5E5E5E5E5E0E5E5E2E586:200E0000E5E2E5E5E5E13AE5E8E9E2E5E5E5E3E5E5E3E55AE5E2E5E5E5EBE5E7E5E2E5E56D:200E8000E7E5E5EBE3E5CAE5E35AE5E2E5E5E3E7E5E5E3E7E5EBE2E8E9E5E5E5EBE5EAE542:200F0000E5E0E2E5E5E5E5E11AE5E3E5EAE5EBE5E5E5E30AE5E31AE5E5E80046E9E30AE107:200F8000E042E212E1E191E191E18AE18AE18AE18AE18AE18AE18AE1E020E1E020E1E020E6:1B100000E1E020E1E020E1E020E1E020E1E020E1313AE1E14222E8E1E3E8E189:1C106C000000333762666A6E72767A0000000000001000000000000000000000EC:00000001FF"

// IPC CLIENT APP
#define ipcclient_byte0 ":020000040002F8:20000000000029F090012D8C01087C0104003B0400FBF0110403070403040404FB04030194:200080000101FB0304020400EA1EFFFFB414010000000439FF3000B2000C0400040800034A:200100000400C3B20100240484EF30010014040E011C2014001E0C001E1E5C580400000004:20018000008C000C0600010070000CF8041E00300400000876F01D14000C731C77207A2487:2002000004782810752C000C0C0A090C0D00100C010C0C0AF51CCF1CF30801082C002C109E:20028000042C01082C2C08049C502C0C2C0C04002C0C07042C0C01082C0C010C9EFCA7F463:20030000CB2CFC28D928000F2800010B2C00100AC90019109110B503248C24B09C02AD2CF2:2003800047002C28430028207D20A18B636E0053746E65670D457320730A73696572636EB6:2004000072650D74000AA0001E01032B032F10081010181810FB1010010C0D0C1003040487:20048000010608080102080801010402010101B2B20100B2B20101010101010103F9011347:2005000002CB040704B423B204F9040102B2B202010101010409040423032302230104F58B:200580000401010101FB010100010100FB1E00000100000100000008000001000E08040016:2006000008000409010E00000A000001000C04000004000B010C0C04000004000C010C0E44:2006800008040008000406010E08000000000D01080E08040008000407010E1000003C0483:200700000400000004000004EC00E8003C00CC0000090C0C0500040405041E040000F200A6:200780001E8010000C0010000A0004050000040003060204000004F00004107000181200C7:200800000000B7F0003C070304E000FF0000D803003C00700304F405B406080506040400AC:20088000BF00000100003C0470700060700000008938003C30040C03000703000100040356:20090000F8FF03040036F0810001310001000404050000008C0000008C00000A0006056D58:2009800000000C040003140006066200000C0409065B055900000C000C08060063003C70B5:200A0000F00004000103017200560000029A00F0000027B0003C00B40786030400320109F2:200A80003E092F7C84000601040004168C140C0904101A08030100070013010005040400A4:200B0000051E1B083500000807063B075B003C05B63CBA0908090100050404010004490045:200B80003C07F0F000010131046802050003010A003D0000C528003C0703041820000500CD:200C000016040A000C04070C09080103070C08FA00040200EB010003003C00F0B00107008A:200C800004020A00BB08000C0003090400B2003C07F0109004C4000010032100100104FCD3:200D0000105800504C545CFC0400004105005A02002000007C041E0400006105007A0200D9:200D80002000007C041E0E00000003000000010028000400F1000C01080408001B0408001E:200E0000000000080400000000040800000000040104080108080400E3000E001408040083:200E8000000C00001002000000000841F8000C010C04010800370000EF1000050C010C0475:200F00002D00040C000C049D14000F040000970C10000C0C0108080400000D080000FF00CC:200F8000850C000000020C00E700000F24780C0038A1C00002000120022002A020201CA098:20100000172012A00D2008A0038203820203028203820203028203820203028203820203D9:0D108000020222E4038E00000C1E000C1E74:1C10B400252430343863676B6F737700044C00045000045401045864045C64002C:00000001FF"
#define ipcclient_byte1 ":020000040002F8:200000000000004000000000000050000000004000FF80001000002000303020FF20003092:200080003020FF2020002000FFFFFFFF10C0000010001000FF4050C0400001001020000005:20010000001000C00048480001FF800000FFC040E0FF47C000FFC000FFFF1111D0C0C0C02B:20018000C002C00000C0C0C002C000FFD0FF40D01000C0C00F001E01C0C0CFC0CFC0CFC012:20020000000100000100C0C0C00000C0C00000C0C0C0C000FF00001000C0000000C0C000CD:2002800000C0000000C000C00001C000C0C00000C0C00000C0C00000C0C00000FF0000104E:200300000010002000C00000C0C00000C000102002C0C000001000000000100010000000CB:2003800001C0C00001C0C000001000FF6C74007420647365006E656D610D656E720A6C74BF:20040000796E0065000D8600FF400000000000000020505020FF002080300020C0F13030DE:200480008000101080005050802030F23030803030800030303030803030208000FF0000DB:2005000000FF20003030383020FF008020303020203030802000303034303430343020FFEA:200580002080303020FF80C000100000FFFF4010002030008040100020300080402010003E:2006000030102000008040100020300080401000102030000080401000102030000080403A:20068000201000301020000080400020103000008040201000301020000080C6C040FF060F:20070000C600C6C0C0C0C0C005C0C5C0FF801520C00000200000C0C000C0FFC000C0FFC031:20078000FF1540C02000003000E00000000020C000003020004000FFC0C0804040C500C0A1:200800000000FFC4C0FFC0C060C450FF00304400C0FF00800050FF00FFC000000000C0C022:20088000FF60C0C0C0C0FF00804050C480C00000FFC4C0FFC4503000600060000000300030:20090000FFFF00441000032F0010001010C050C0005000C0CF6000C0CF500000000000FF36:20098000C000C0C0C00000000000FFC000C0C00000FF00FFC000C000C0C000C0FFC0FF801C:200A0000437050C3800000FF700000C000FF00830000FFC2C0FF6042C00FC090C00060007E:200A8000000000122210C0100000C0001F00C0C03000FF0000000050C000C0C0C050C0C094:200B000000FF0000FF50C0001020FE00FFC0FF00FFFFFF000000C0C0C050C0C0C000FFC04F:200B8000FF0083478040500000C10000C00000FF70000000FEC1C0FFC0C090C161001000CC:200C000000A0C0207030C0C040C00030700040FF00000000FF000000C0FF0087FEC000C092:200C80005000C0C0FE00C0C0C00000C0C0FEC0FF0087400100FEC00080101120801020FF13:200D0000801120111111111FD000C00000C00000C0C000C000D0FFD000C00000C00000C050:200D8000C000C000D0FF4000C00000C0C000000000C0C000FDC0C0C0C0C0000000C0100077:200E0000100000C01000100000C01000100000C0C0C0C0C0C000C000FF008040D020100003:200E8000C0C0C000C000C0C0C0001000C000C0101010001000000010FFC00000C0000000B3:200F00001010C000101000FFD08040100000FD0000C000C0C0C0C000C00000C00000FF00F6:200F8000FD00C0C00000C000FF0000801147400000E0E00031102008280424000001000182:2010000000020002000300030003300303300302300202300201300101300100300000302E:0D108000000024FF10E0100040FF0040FFC2:1C10B400001131353964686C707478000011200011200011000011010011010045:00000001FF"
#define ipcclient_byte2 ":020000040002F8:200000000000002D9F70009F70009F750000009554FFBD009011005200908152FF9200D025:20008000C152FF1062809052FF2FFFFF029F7CA0A09C8C00FF2DA0D5A00080858091520020:20010000919100D584A0A05CA0FFBD14002FA0A08F2FC09F8C2F9F8C2F2F02024DA08DA06A:200180008D9F9D50009D8C8D9F9D50FF8D2F2D4D8D8DA08D8F008F00A08D8F8D8F8D8F8DE9:20020000A0008DA0008DA08D9D5C009D8CA0CC9D8C8D9D5CFF9D009D009D8C8D9D809DA0D1:200280008C9DA08C9D9D909C00009D8C9D9CA08C9D9CA08C9D9CA08C9D9CA08CFF8F008FC9:20030000009D8F9D009D5C009D9C5C009D9C8DA000A0CD8D008D00009D009D008FA0009D93:2003800000A08D9D00A08D9D009D00FF690A00617320733A00646E6567006E67720D69209E:2004000020640073000001522F2D1100100052002D42B1A052FFBD92BD1200D24F8C9180D6:20048000BD00B1A0BD00B1A0BD524F83D1C0BDD1C0BDA0D1C0D1C0BDD1C052BD11FF100084:2005000010FF520091C0A04052FF72BD92D1C04292D1C0BD520091C0A040A040A04052FFF0:2005800092BDD1C052FFBD40E0FC8051FF2F2DA0A0A0A000BD2DA0A0A0A000BD2D8D8D8DAA:200600009D9D9DA000BD2DA0A0A0A000BD2D8D8D9D9DA0A000BD2D8D8D9D9DA0A000BD2D13:200680008D8D8D9D9D9DA000BD2D8DA09DA0A000BD2D8D8D8D9D9D9DA000BD9F9C2D2F9F4D:200700009F8C9F9C4C80A0809F809F9C2FBD9FA0910050A00052909000822F925CA0FF8150:200780002F9F2D91B08100A000905E00538180A0A000A093529283FFA080BD2DB09F009CEC:200800005C00FF9F9C2F84CC4C9F9CFF55959F00942FA0BD5695FFA0FF435C0085804C809B:20088000FF85958C85942F85BD2DB09FBD9C5C00FF9F9C2F9F45A055A000A096C0838055C8:20090000FFFF559F93009FB090C10083838C814C5CA05696B0A05595B0A056005500A0FF97:200980009395808C83A0005500A0FF9693808C00A0FFA0FF96938095808CA086FF942FBDAA:200A00002DB0479FA000A0FFA000589C00FFA0BD5C00FF9F9C2F959F88B0CC4C940046566B:200A80000056009F9F9185828C519C00B000864C9C00FF53898085A094008985898C438594:200B0000A0FF00A0FFB09400A0A0FFA0FF942FA0FF2FFF4650008985898C408C8585FF94C3:200B80002FA0BD2DA0B04800589F00189C00A0FFA0005C00FF9F9C2F84CC4C9F9F9CE050AF:200C00000080859001474A824C800088885344FF54900050FF005000962FA0BDFF895A83AF:200C800047004580FF5495848500874480FF962FA0BD2D04A0FFB0A0BD84B0A0BD518CFFA1:200D0000BD020002020202004DCDDD5C00DD5C00DD8C00DDEF8D2F4DCDDD5C00DD5C00DD26:200D80004C00DDEF8D2F2D8D9D5C009DDC5C009D009D8D9DFF9D804C8D9D9D5C009D9DDCF2:200E0000D121CC9D9DDCD121CC9D9DDCD121CC9D8C8D9D4C8D9D9D5CFF9DBD2D4D8D8D8D30:200E8000A08D9D5C8D009D6C8D9D9D009FDC9D8C8D9DCC9D9D00518DFF9D5C009D8C8D9DD2:200F0000A0CC9D9DA0C09DFF8DBD2DCD8D9DFF8D009D9D804C8D9DDDDC5C009DA0CCFF9D4B:200F8000FF8D9DDC5C009D5CFF9D8DBD02C02D5100A03E601161B052A052A0520052005297:2010000000520052005200520050A34050A34050A34050A34050A34050A34050A34050A330:0D1080004051A0FFA0B06360BD2FA0BD2FA8:1C10B400000232366165696D7175790000020000020000020000020200020200AD:00000001FF"
#define ipcclient_byte3 ":020000040002F8:2000000010EBEBE9E5E31BE5E31BE5E30AEAEBE4E31AE8EAE4E31AE24AE4E4E25AE20AE410:20008000E4E21AE21210E4E31AE1FFFF00E5E303011512EAFFE9E1E1E3EAE0E0E2E5E30AF4:20010000E5E5EBE1E2E1E1E1E1CAE8E31AE1E1E1E2E146E5E5E1E5E5E1E10000E2E3E5E3C4:20018000E5E5E5E1DAE5E2E5E5E5E1CAE2E1E9E2E5E5E3E5E2EBE2EBE3E5E2E5E2E5E2E5FD:20020000E3EBE5E3EBE5E3E5E5E3AAE5E0E3E5E5E2E5E5E3BAE5EBE5EBE5E2E5E5E5E5E3A5:20028000E5E5E3E5E5E5E5E5E0EBE5E5E5E5E3E5E5E5E3E5E5E5E3E5E5E5E3E5EBE2EBE2C1:20030000EBE5E2E5EBE5E30AE5E5E31AE5E5E2E3EBE3E5E2EBE2EBEAE5EBE5EBE2E3EBE5C7:20038000EBE3E5E5EBE3E5E5EBE5EBEA650DA072656D610A00206473650064206F0065749F:20040000730A0074A00000E301E9E31AE31AE33AE9E2E8E8E22AE8E208E20AE3E2E0E4E495:2004800008EAE8E808EAE8E808E21210E4E4E8E0E0E8E1E0E0E4E4E8E4E4E208E31AE31A77:20050000E30AE23AE4E0E1E1E22AE308E2202022E22424E8E23AE4E4E1E5E1E5E1E5E22ABD:20058000E208E4E4E21AE8E2E3E5E2E31AE1E9E3E3E3E3EFE8E9E3E3E3E3EFE8E9E5E5E52B:20060000E5E5E5E3EFE8E9E3E3E3E3EFE8E9E5E5E5E5E3E3EFE8E9E5E5E5E5E3E3EFE8E908:20068000E5E5E5E5E5E5E3EFE8E9E5E3E5E3E3EFE8E9E5E5E5E5E5E5E3EFE8E5E5E9E1E595:20070000E5E5E5E5E2E5E3E5E5E5E5E5E1E8E5E3E5EAE1111AE305150AE5E1E5E3031AE51F:20078000E1E5E9E5E1050AE3EAE5E18AE305151111EAE1E5E315051AE3E5E8E9E1150AE554:20080000E30AEBE5E5E1E2E3E2E5E5EAE315E51AE5E1E3E8E1858AE1EBE0E33AE0E2E2E530:20088000EBE5E5E3E5E5E1E2E8E9E11508E5E30AEBE5E5E1E5E2E1E1939AE1E5E3E0E2E1FA:200900008AEAE1E5051AE5E1E5130AE5E0E0E2E2E133E3151113E3151113E31AE30AE1EB4B:20098000E5E5E0E2E5E1EAE31AE1EBE5E5E0E2EAE1EBE1EBE5E5E0E5E0E2E1E5EBE5E1E894:200A0000E9E1E215E11AE1EBE1EAE3E51AEBE3E8E30AEBE5E5E1E5E5E2E1E3E2E50AE2E164:200A80000AE18AE5E5E5E0E0E2E1859AE11AE0E0E24AEBE330333531E53AE3E5E0E2E2E5A2:200B0000E1EBEAE1EBE1E50AE1E1EBE1EBE5E1E1EAE1EAE0E33AE3E5E0E2E2E3E5E2EBE5CB:200B8000E1E1E8E9E1E1E20AE3859AE1E50AE1EBE1EAE30AEBE5E5E1E2E3E2E5E5E5E1E30E:200C00000AE2E0E5E0E2E0E0E0E2EAE0E0E1303AE3455AE31AEAE31AE5E1E3E8EBE3E1E55F:200C8000E20AE0E5EBE33530353AE0E2E5EBE5E1E1E8E9E0E1EBE10308E2E1E308E2E41AD1:200D0000E800100000000010E2E5E5E3BAE5E3CAE5E2EAE5E6E2E1E2E5E5E3BAE5E3CAE5F1:200D8000E2EAE5E6E2E1E9E5E5E30AE5E5E31AE5EAE5E5E5EBE5E0E2E5E5E5E12AE5E5E519:200E0000E5E0E5E5E5E5E5E0E5E5E5E5E5E0E5E5E2E5E5E2E5E5E5E13AE5E8E9E2E5E5E5F2:200E8000E3E5E5E3E55AE5E2E5E5E5EBE5E7E5E2E5E5E7E5E5EBE3E5CAE5E35AE5E2E5E5E4:200F0000E3E7E5E5E3E7E5EBE2E8E9E5E5E5EBE5EAE5E5E0E2E5E5E5E5E11AE5E3E5EAE5F0:200F8000EBE5E5E5E30AE5E31AE5E5E80046E9E30AE1E042E212E1E191E191E18AE18AE1A7:201000008AE18AE18AE18AE18AE1E020E1E020E1E020E1E020E1E020E1E020E1E020E1E0B2:0D10800020E1313AE1E14222E8E1E3E8E15C:1C10B4000000333762666A6E72767A0000000000001000000000000000000000A4:00000001FF"

void user_app_test() {
  code_bytes_t code_bytes;

  irq_disable();
  mmu_init();
  //devices_init();
  //process_table_init();
  irq_init();
  timer_init();

  code_bytes.byte_0 = byte0;
  code_bytes.byte_1 = byte1;
  code_bytes.byte_2 = byte2;
  code_bytes.byte_3 = byte3;

  process_create(1, &code_bytes);
//
//  code_bytes.byte_0 = byte0_;
//  code_bytes.byte_1 = byte1_;
//  code_bytes.byte_2 = byte2_;
//  code_bytes.byte_3 = byte3_;
//
//  process_create(1, &code_bytes);

  code_bytes.byte_0 = ipcserver_byte0;
  code_bytes.byte_1 = ipcserver_byte1;
  code_bytes.byte_2 = ipcserver_byte2;
  code_bytes.byte_3 = ipcserver_byte3;

  process_create(1, &code_bytes);

  code_bytes.byte_0 = ipcclient_byte0;
  code_bytes.byte_1 = ipcclient_byte1;
  code_bytes.byte_2 = ipcclient_byte2;
  code_bytes.byte_3 = ipcclient_byte3;

  process_create(1, &code_bytes);

  irq_register_context_switch();
  irq_enable();

  //mmu_init_memory_for_process(process_table[0]);
  //asm(" MOV R0, #131072");
  //asm(" MOV PC, #131072");

  kernel_to_user_mode();

  kernel_print("go\r\n");
}

int main(int argc, char **argv) {
  // these methods has to be called for EVERY test method
  irq_disable();
  process_table_init();
  devices_init();
  //mmchs_init();
  //fs_init();

//  mmu_init();
//  irq_enable();
  //kernel_to_user_mode();

  // these methods are the specific tests for every module
  //  process_test();
  //  timer_test();
  //  serial_test();
  //  serial_test_calc();
  //  process_exit_test();
  //  fs_test();
  //  i2c_test();
  //  uptime_test();
//  tty_test();
  //  system_time_test();
  //  uptime_test();
  //video_test();
  user_app_test();

  // do an endless loop
  loop_forever();

  return 0;
}
